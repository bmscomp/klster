# LitmusChaos Helm Values Configuration
# Customized for Kind cluster with local registry

# Operator configuration
operator:
  image:
    repository: litmuschaos/chaos-operator
    tag: "3.23.0"
    pullPolicy: Never

# Runner configuration  
runner:
  image:
    repository: litmuschaos/chaos-runner
    tag: "3.23.0"
    pullPolicy: Never

# Exporter configuration
exporter:
  enabled: true
  image:
    repository: litmuschaos/chaos-exporter
    tag: "3.23.0"
    pullPolicy: Never
  service:
    type: ClusterIP
    port: 8080
  serviceMonitor:
    enabled: true
    labels:
      release: monitoring

# Resource limits for Kind environment
resources:
  limits:
    cpu: 500m
    memory: 512Mi
  requests:
    cpu: 250m
    memory: 256Mi

# Portal/UI configuration
portal:
  server:
    enabled: true
    image:
      repository: litmuschaos/litmusportal-subscriber
      tag: "3.23.0"
      pullPolicy: Never
    service:
      type: ClusterIP
      port: 9002
  frontend:
    enabled: true
    image:
      repository: litmuschaos/litmusportal-event-tracker
      tag: "3.23.0"
      pullPolicy: Never
    service:
      type: ClusterIP
      port: 9091

# ServiceAccount
serviceAccount:
  create: true
  name: litmus

# MongoDB configuration for Mac M1/M2/M3 compatibility
mongodb:
  image:
    registry: docker.io
    repository: bitnami/mongodb
    tag: latest
    pullPolicy: Never
  extraEnvVars:
    - name: EXPERIMENTAL_DOCKER_DESKTOP_FORCE_QEMU
      value: "1"
  arbiter:
    extraEnvVars:
      - name: EXPERIMENTAL_DOCKER_DESKTOP_FORCE_QEMU
        value: "1"
