# LitmusChaos Helm Values Configuration
# Customized for Kind cluster - uses images pre-loaded into Kind nodes

# Operator configuration
operator:
  image:
    repository: litmuschaos/chaos-operator
    tag: "3.23.0"
    pullPolicy: Never
  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 250m
      memory: 256Mi

# Runner configuration  
runner:
  image:
    repository: litmuschaos/chaos-runner
    tag: "3.23.0"
    pullPolicy: Never
  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 250m
      memory: 256Mi

# Exporter configuration
exporter:
  enabled: true
  image:
    repository: litmuschaos/chaos-exporter
    tag: "3.23.0"
    pullPolicy: Never
  service:
    type: ClusterIP
    port: 8080
  serviceMonitor:
    enabled: true
    labels:
      release: monitoring
  resources:
    limits:
      cpu: 200m
      memory: 256Mi
    requests:
      cpu: 100m
      memory: 128Mi

# Portal/UI configuration
portal:
  server:
    enabled: true
    image:
      registry: litmuschaos.docker.scarf.sh/litmuschaos
      repository: litmusportal-server
      tag: "3.23.0"
      pullPolicy: Never
    service:
      type: ClusterIP
      port: 9002
    resources:
      limits:
        cpu: 500m
        memory: 512Mi
      requests:
        cpu: 250m
        memory: 256Mi
    authServer:
      image:
        registry: litmuschaos.docker.scarf.sh/litmuschaos
        repository: litmusportal-auth-server
        tag: "3.23.0"
        pullPolicy: Never
      resources:
        limits:
          cpu: 200m
          memory: 256Mi
        requests:
          cpu: 100m
          memory: 128Mi
  frontend:
    enabled: true
    image:
      registry: litmuschaos.docker.scarf.sh/litmuschaos
      repository: litmusportal-frontend
      tag: "3.23.0"
      pullPolicy: Never
    service:
      type: ClusterIP
      port: 9091
    resources:
      limits:
        cpu: 200m
        memory: 256Mi
      requests:
        cpu: 100m
        memory: 128Mi

# ServiceAccount
serviceAccount:
  create: true
  name: litmus

# MongoDB configuration for Mac M1/M2/M3 compatibility
mongodb:
  image:
    registry: docker.io
    repository: bitnami/mongodb
    tag: latest
    pullPolicy: Never
  extraEnvVars:
    - name: EXPERIMENTAL_DOCKER_DESKTOP_FORCE_QEMU
      value: "1"
  arbiter:
    image:
      registry: docker.io
      repository: bitnami/mongodb
      tag: latest
      pullPolicy: Never
    extraEnvVars:
      - name: EXPERIMENTAL_DOCKER_DESKTOP_FORCE_QEMU
        value: "1"
